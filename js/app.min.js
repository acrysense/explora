"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}document.addEventListener("DOMContentLoaded",(function(){function e(e){var t=0,r=window.innerWidth-document.body.offsetWidth+"px",n=document.querySelectorAll(".fixed");e?(document.body.classList.add("scroll-disabled"),t=window.pageYOffset,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top?document.body.style.top=document.body.style.top:document.body.style.top="-"+t+"px",document.body.style.width="100%",document.body.style.paddingRight=r,n&&n.forEach((function(e){e.style.marginRight=r}))):(document.body.classList.remove("scroll-disabled"),t=Math.abs(parseInt(document.querySelector("body").style.top.replace("px",""))),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("position"),document.body.style.removeProperty("top"),document.body.style.removeProperty("width"),document.body.style.removeProperty("padding-right"),n&&n.forEach((function(e){e.style.removeProperty("margin-right")})),window.scrollTo({top:isNaN(t)?0:t,behavior:"instant"}))}function t(e){document.querySelectorAll(".decks-tabs__item").forEach((function(e){e.classList.remove("is--active")}));var t=e.closest(".decks-tabs__item");t&&t.classList.add("is--active"),d[0].src=e.dataset.profile,d[1].src=e.dataset.deck}var r=function(e,t){var r=!1,n=function(r){for(var n=r.target;n;){if(e.includes(n))return;n=n.parentNode}t(),o()};function o(){r&&(document.documentElement.removeEventListener("click",n),r=!1)}return{setBodyChecker:function(){r||(document.documentElement.addEventListener("click",n),r=!0)},removeBodyChecker:o}};Inputmask().mask(document.querySelectorAll("input"));var n=document.querySelectorAll("textarea");n&&n.forEach((function(e){e.style.height=e.setAttribute("style","height: "+e.scrollHeight+"px"),e.classList.add("auto"),e.addEventListener("input",(function(t){e.style.height="auto",e.style.height=e.scrollHeight+"px"}))}));var o=document.querySelectorAll(".select-box__selected"),c=document.querySelectorAll(".select-box__option");o&&o.forEach((function(e){var t=function(){document.querySelectorAll(".select-box__container").forEach((function(e){e.classList.remove("select-box__container--active"),e.removeAttribute("style")})),document.querySelectorAll(".select-box__selected").forEach((function(e){return e.classList.remove("select-box__selected--active")}))},n=r([e.parentNode].concat(_toConsumableArray(o)),t);e.addEventListener("click",(function(){var r=e.previousElementSibling;r.classList.contains("select-box__container--active")?t():(t(),r.classList.add("select-box__container--active"),e.classList.add("select-box__selected--active"),n.setBodyChecker())}))})),c&&c.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.closest(".select-box"),n=r.querySelector(".select-box__container"),o=r.querySelector(".select-box__selected"),c=o.querySelector(".select-box__placeholder"),s=o.querySelector(".select-box__values");if(r.classList.contains("select-box--single")){if(e.querySelector("input").checked)return!1;e.querySelector("input").checked=!0,c.classList.contains("select-box__placeholder--active")&&(c.classList.remove("select-box__placeholder--active"),s.classList.add("select-box__values--active")),s.innerHTML=e.querySelector(".select-box__title").innerHTML,n.classList.remove("select-box__container--active"),o.classList.remove("select-box__selected--active")}else if(e.querySelector("input").checked){e.querySelector("input").checked=!1;var i=s.innerHTML.split(", ");if(i.length>1){var l=i.indexOf(e.querySelector(".select-box__title").innerHTML);i.splice(l,1);s.innerHTML=i.join(", ")}else c.classList.contains("select-box__placeholder--active")||(c.classList.add("select-box__placeholder--active"),s.classList.remove("select-box__values--active")),s.innerHTML=""}else e.querySelector("input").checked=!0,c.classList.contains("select-box__placeholder--active")?s.innerHTML+=e.querySelector(".select-box__title").innerHTML:s.innerHTML+=", "+e.querySelector(".select-box__title").innerHTML,c.classList.contains("select-box__placeholder--active")&&(c.classList.remove("select-box__placeholder--active"),s.classList.add("select-box__values--active"))}))}));var s=document.getElementById("mobile-menu"),i=document.getElementById("hamburger-toggle"),l=document.querySelector(".mobile-menu__close");s&&i&&(i.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("is--active")?(s.classList.remove("is--active"),e(0)):(s.classList.add("is--active"),e(1))})),l&&l.addEventListener("click",(function(t){t.preventDefault(),s.classList.contains("is--active")&&(s.classList.remove("is--active"),e(0))})));var a=document.querySelectorAll(".decks-tabs__tab"),d=document.querySelectorAll(".decks__image img");a&&d&&(a.length>0||2==d.length)&&(a.forEach((function(e){e.addEventListener("click",(function(){t(this)}))})),t(a[0]));var u=document.querySelector(".main__slider .swiper");if(u)new Swiper(u,{slidesPerView:1,loop:!0,speed:800,parallax:!0,watchSlidesProgress:!0,autoplay:{delay:5e3},on:{beforeSlideChangeStart:function(){u.style.pointerEvents="none"},slideChangeTransitionEnd:function(){u.style.pointerEvents="auto"}}});var m=document.querySelector(".directions__slider .swiper");if(m)new Swiper(m,{slidesPerView:5,spaceBetween:8,loop:!0,breakpoints:{0:{slidesPerView:"auto"},744:{slidesPerView:3},1024:{slidesPerView:5}}});var v=document.querySelector(".cruises__slider .swiper");if(v)new Swiper(v,{slidesPerView:2,spaceBetween:32,loop:!0,navigation:{prevEl:".cruises__slider .swiper-button-prev",nextEl:".cruises__slider .swiper-button-next"},breakpoints:{0:{slidesPerView:1,spaceBetween:20},744:{slidesPerView:1,spaceBetween:16},1024:{slidesPerView:2,spaceBetween:32}}});var y=document.querySelectorAll(".cabins__slider .swiper");y&&y.forEach((function(e){new Swiper(e,{slidesPerView:1,spaceBetween:0,loop:!0,navigation:{prevEl:e.closest(".cabins__slider").querySelector(".swiper-button-prev"),nextEl:e.closest(".cabins__slider").querySelector(".swiper-button-next")},pagination:{el:".cabins__slider .swiper-pagination",clickable:!0}})}));var f=document.querySelectorAll(".modal-info__slider .swiper");f&&f.forEach((function(e){new Swiper(e,{slidesPerView:1,spaceBetween:0,loop:!0,navigation:{prevEl:e.closest(".modal-info__slider").querySelector(".swiper-button-prev"),nextEl:e.closest(".modal-info__slider").querySelector(".swiper-button-next")},pagination:{el:".modal-info__slider .swiper-pagination",clickable:!0}})}));var p=document.querySelectorAll(".main-filter__item"),_=document.querySelectorAll(".main-filter__dropdown-close");if(p){var h=null,b=null;p.forEach((function(e,t){var n=document.querySelector('.main-filter__dropdown[data-id="'.concat(e.dataset.id,'"')),o=function(){p.forEach((function(e){return e.classList.remove("is--active")})),document.querySelectorAll(".main-filter__dropdown").forEach((function(e){return e.classList.remove("is--active")})),b&&b.removeBodyChecker(),h=null,b=null,document.querySelector(".header").classList.remove("is--hidden")},c=r([e,n],o);if(window.innerWidth>=1024&&t>0&&t<p.length-2){var s=e.getBoundingClientRect().left-e.closest(".main-filter__wrapper").getBoundingClientRect().left;n.style.setProperty("--dropdown-offset","".concat(s,"px"))}e.addEventListener("click",(function(t){t.preventDefault(),e===h?o():(o(),e.classList.add("is--active"),n.classList.add("is--active"),c.setBodyChecker(),h=e,b=c,window.innerWidth<=743&&document.querySelector(".header").classList.add("is--hidden"))}))})),_&&_.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),e.classList.contains("main-filter__dropdown-close--filter")?document.querySelector(".search-results__filter")&&document.querySelector(".search-results__filter").classList.contains("is--active")&&document.querySelector(".search-results__filter").classList.remove("is--active"):(p.forEach((function(e){return e.classList.remove("is--active")})),document.querySelectorAll(".main-filter__dropdown").forEach((function(e){return e.classList.remove("is--active")})),b&&b.removeBodyChecker(),h=null,b=null,document.querySelector(".header").classList.remove("is--hidden"))}))}))}if(document.querySelector(".main-filter-calendar")){var L=function(e){var t=e.target,r=parseInt(t.dataset.year),n=parseInt(t.dataset.month);x?A?(w(),x={year:r,month:n,element:t},t.classList.add("selected")):r<x.year||r===x.year&&n<x.month?(x.element.classList.remove("selected"),x={year:r,month:n,element:t},t.classList.add("selected")):(A={year:r,month:n,element:t},S()):(x={year:r,month:n,element:t},t.classList.add("selected")),E()},S=function(){document.querySelectorAll(".month").forEach((function(e){return e.classList.remove("selected")})),x.element.classList.add("selected"),A.element.classList.add("selected"),document.querySelectorAll(".month").forEach((function(e){var t=parseInt(e.dataset.year),r=parseInt(e.dataset.month);(t>x.year||t===x.year&&r>=x.month)&&(t<A.year||t===A.year&&r<=A.month)&&e.classList.add("selected")}))},w=function(){x=null,A=null,document.querySelectorAll(".month").forEach((function(e){return e.classList.remove("selected")}))},E=function(){var e=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"];x&&!A?console.log("".concat(e[x.month-1]," ").concat(x.year)):x&&A&&console.log("".concat(e[x.month-1]," ").concat(x.year," - ").concat(e[A.month-1]," ").concat(A.year))},g=document.getElementById("main-filter-calendar"),q=(new Date).getFullYear(),x=null,A=null;document.querySelector(".main-filter-calendar__clear").addEventListener("click",w),[q-1,q,q+1].forEach((function(e){g.appendChild(function(e){var t=document.createElement("div");t.classList.add("year-container");var r=document.createElement("span");r.textContent=e,r.classList.add("year-title"),t.appendChild(r);var n=document.createElement("div");return n.classList.add("months-container"),["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"].forEach((function(t,r){var o=document.createElement("div");o.classList.add("month"),o.textContent=t,o.dataset.year=e,o.dataset.month=r+1,e<q||e===q&&r<(new Date).getMonth()?o.classList.add("disabled"):o.addEventListener("click",L),n.appendChild(o)})),t.appendChild(n),t}(e))}))}var k=document.querySelector(".search-sort__trigger"),T=document.querySelector(".search-results__filter");k&&T&&k.addEventListener("click",(function(e){e.preventDefault(),T.classList.contains("is--active")?T.classList.remove("is--active"):T.classList.add("is--active")}));var C=document.querySelectorAll(".booking-location-cabin__btn");C&&C.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),C.forEach((function(e){return e.classList.remove("is--active")})),e.classList.add("is--active")}))}));var B=document.querySelectorAll(".modal"),P=document.querySelectorAll(".modal-btn"),I=document.querySelectorAll(".modal__close");B&&P&&I&&(B.forEach((function(e){e.addEventListener("click",(function(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__wrap"))&&(e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled"))}))})),P.forEach((function(e,t){e.addEventListener("click",(function(t){t.preventDefault();var r=e.dataset.id;document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.getElementById(r).classList.add("is--active"),document.body.classList.add("scroll-disabled")}))})),I.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.querySelectorAll(".modal.is--active").forEach((function(e){return e.classList.remove("is--active")})),document.body.classList.remove("scroll-disabled")}))})))}));